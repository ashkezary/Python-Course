# جلسه پانزدهم (کار با فایل)
در یک برنامه پایتون، ممکن است بخواهید از یک فایل ورودی بخوانید، خروجی برنامه را در یک فایل بریزید یا فایلی باز کنید و تغییراتی در آن انجام دهید یا ... . برای کار کردن با فایل‌های مختلف در پایتون راه‌های مختلفی وجود دارد اما راه اولیه و کلی پایتون، برای کار با فایل‌ها، استفاده از دستورهای `open` و `close` است که در این جلسه توضیح داده می‌شود.

## باز کردن و بستن فایل

در پایتون می‌توانید با استفاده از دستور `open` یک فایل را باز کنید. درون دستور `open` باید آدرس فایل و هدف خود را از باز کردن فایل مشخص کنید. اگر پس از آدرس فایل، از `'r'` استفاده کنیم، یعنی می‌خواهیم از این فایل فقط چیزهایی را بخوانیم، اگر از `'w'` استفاده کنیم یعنی می‌خواهیم محتوای فایل را پاک کرده و چیزی درون آن بنویسیم و در نهایت `'a'` برای افزودن به محتوای فایل استفاده می‌شود.
```python
f = open('file.txt' , 'r')
s = f.read()
f.close()
```
**تذکر مهم.** در باز کردن فایل‌ها به شیوه بالا باید حتماً به خاطر داشته باشیم که فایل را با دستور `close` ببندیم. یک راه دیگر هم این است که به طور خلاصه از دستور زیر استفاده کنیم.
```python
with open('file.txt' , 'r') as x:
    s = x.read()
```
## خواندن از فایل (کل فایل، خط به خط، همه خطوط)
پس از باز کردن فایل، به شکل‌های مختلفی می‌توانیم داده‌های فایل را بخوانیم. دستور `f.read()` که در بالا ذکر شد، به یکباره کل فایل را خوانده و به شما برمی‌گرداند. اگر بخواهیم خط به خط فایل را بخوانیم، می‌توانیم به شکل زیر از دستور `readline()` استفاده کنیم:
```python
# ... A file is opened as x
line1 = x.readline()
line2 = x.readline()
```
امکان دیگری که وجود دارد این است که برنامه را یکباره کل خط‌ها را بخوانیم و لیست از خطوط دریافت کنیم. برای این کار می‌توانیم از دستور `readlines` استفاده کنیم:
```python
# ... A file is opened as x
row_list = x.readlines()

#Iterate on lines. Suppose a file is opened as x
for line in x:
    print(line)
```
## نوشتن در یک فایل
برای نوشتن در یک فایل همانطور که در بالا هم گفته شد، نخست باید با توجه به نوع نیاز از خود از روش `'w'` یا `'a'` فایل موردنظر را باز کنیم و سپس با دستور `write` آنچه مد نظر داریم، در فایل بنویسیم:
```
with open('file.txt' , 'w') as x:
     x.write("hello")
```
