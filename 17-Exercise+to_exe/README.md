# جلسه هفدهم (ساخت فایل اجرایی و شیءگرایی)

در این جلسه نخست نمونه سوال سال گذشته درس حل شد که در قسمت [Exams](https://github.com/ashkezary/Python-Course/blob/master/Exams/Final-Fall1403.md) هم‌اکنون قابل ملاحظه است. پس از حل تمرین، در مورد تبدیل یک برنامه پایتون به فایل اجرایی بحث شده است.

## ساخت فایل اجرایی
تا اینجا برنامه‌هایی که در پایتون ساخته‌ایم، می‌باید در محیط IDE یا ترمینال اجرا می‌شد اما محصولاتی که ما با آن‌ها کار می‌کنیم، این طور نیستند. مثلاً اگر یک بازی نوشته باشیم، برای کاربران خوشایند نیست که به خاطر این بازی نصب و اجرای یک فایل پایتون را یاد بگیرند. آن‌ها می‌خواهند فقط یک فایل داشته باشند که کلیک کنند و بازی برایشان باز شود. در زبان پایتون می‌توانید با نصب کتابخانه‌ی `pyinstaller` و اجرای دستور زیر در ترمینال، از برنامه‌ی خود یک فایل اجرایی بسازید:
```bash
pyinstaller --onefile filename.py
```
**نکته ۱.** برنامه شما باید یک رابط گرافیکی داشته باشد وگرنه حتی اگر فایل exe هم بسازید، با اجرای آن ترمینالی برای شما باز می‌شود تا برنامه را اجرا کنید.

**نکته ۲.** با اجرای کد بالا، در کنار فایل ما، یک فایل دیگر و دو پوشه ساخته می‌شود که فایل exe در پوشه dist قرار دارد. در این حالت با اجرای فایل exe یک کنسول نیز در کنار برنامه ما باز می‌شود که برای عدم نمایش آن می‌توانید دستور بالا را به شکل زیر اجرا کنید:

```bash
pyinstaller --onefile --noconsole filename.py
```
**نکته ۳.** در پایتون راه‌های دیگری نیز برای ساخت فایل exe وجود دارد که می‌توانید در [این ویدئو](https://www.aparat.com/v/f109152) آن‌ها را ملاحظه کنید.

## آشنایی با برنامه‌نویسی شیءگرا

در زبان‌های برنامه‌نویسی، نخست برنامه‌ها به صورت یک‌تکه نوشته می‌شدند، یعنی به همان صورت که ما تا پیش از یاد گرفتن تابع برنامه می‌نوشتیم. بعد این امکان فراهم شد که عملیات‌های مستقل برنامه خود را در قالب تابع و به صورت جداگانه بنویسیم و بعد هرجا لازم بود از آن استفاده کنیم. استفاده از توابع در برنامه‌نویسی، برنامه‌ها را به بخش‌های کوچکتر و مناسب برای بازاستفاده تبدیل کرد اما در گام‌های بعد برنامه‌نویسان متوجه شدند که برای شبیه‌سازی سناریوهای پیچیده‌تر دنیای واقع، اینکه فقط عملیات‌ها و کارها را بخش بخش کنیم، کافی نیست. به همین خاطر نوعی از برنامه‌نویسی معرفی شد که در آن می‌توانستید چیزهای مختلف را با مجموع (شناسه‌ها و کارها) در برنامه خود استفاده کنید. مثلاً اگر قرار بود یک بازی فوتبال را برنامه‌نویسی کنید، می‌توانستید یک **کلاس** برای بازیکن تعریف کنید که علاوه بر کارهایی مثل شوت زدن و پاس دادن مشخصاتی نظیر نام بازیکن، سن و قد او را نیز نگه می‌دارد. به این ترتیب در جریان یک برنامه با استفاده از کلاس فوق، می‌توانیم نمونه‌هایی از کلاس فوق ایجاد کنیم تا در برنامه ما کاری انجام دهند. روشن است که این نحو شبیه‌سازی به طرز تفکر انسان نیز نزدیک‌تر است و لذا امکانات بیشتری را برای برنامه‌نویسی سیستم‌های پیچیده خواهیم داشت.

در زبان پایتون با استفاده از کلیدواژه‌ی `class` می‌توان یک کلاس تعریف کرد. در قطعه کد زیر کلاس بازیکن تعریف شده است:
```python
class FootballPlayer:
    def __init__(self, name, age, weight, team, number):
        self.name = name
        self.age = age
        self.weight = weight
        self.team = team
        self.number = number

    def shoot(self):
        print(f"{self.name} (#{self.number}) takes a shot!")

    def pass_ball(self):
        print(f"{self.name} (#{self.number}) makes a pass.")

    def display_info(self):
        print(f"Player Info:\n"
              f"Name: {self.name}\n"
              f"Age: {self.age}\n"
              f"Weight: {self.weight} kg\n"
              f"Team: {self.team}\n"
              f"Number: {self.number}")

# Example usage:
player = FootballPlayer("Ronaldinho", 36, 72, "Barcelona", 10)
player.display_info()
player.shoot()
player.pass_ball()
```
**موارد قابل توجه:**

۱- کلاسی که در بالا تعریف شده نامش `FootballPlayer` است.

۲- تابع `__init__` مشخص می‌کند که برای ایجاد یک نمونه از کلاس، چه چیزهایی لازم است که برای `FootballPlayer` در برنامه بالا، نام، سن، قد، تیم و شماره ذکر شده است.

۳- هرگاه یک بازیکن ایجاد کنیم، آن بازیکن سه کار می‌تواند انجام دهد: شوت زدن، پاس دادن و نمایش اطلاعات.

۴- هر تابع در یک کلاس حتماً self را به عنوان ورودی می‌گیرد (که در عمل یعنی هیچ ولی لازم است باشد). اگر تابع ورودی دیگری نیاز داشته باشد، می‌توانیم بعد از سلف بنویسیم.

۵- برای ایجاد یک نمونه از کلاس، از قالب `ClassName(parameters)` استفاده می‌کنیم. برای مثال در کد بالا، `player = FootballPlayer("Ronaldinho", 36, 72, "Barcelona", 10)` یک بازیکن تعریف می‌کند.

۶- برای اجرای توابع یک کلاس روی نمونه‌ای از آن، کافی است پس از نام آن نمونه، نقطه گذاشته و تابع را فراخوانی کنیم. این در واقع مشابه کاری است که با رشته‌ها، لیست‌ها و ... در طول درس انجام می‌دادیم و از این‌جا می‌شود فهمید که همانطور که یک‌سری توابع built-in در پایتون وجود دارد، یک سری کلاس آماده هم هست و وقتی ما مثلاً یک لیست ایجاد می‌کنیم، در واقع داریم نمونه‌ای از کلاس لیست می‌سازیم.
